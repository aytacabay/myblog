{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import axios from'axios';function Todolist(){var date=new Date();var contentdataRef=useRef();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),check=_useState2[0],setCheck=_useState2[1];function getTodolist(){axios.get('http://192.168.254.2:9000/admin-get-todolist/').then(function(response){setTodolist(response.data.getData.getData);});}useEffect(function(){getTodolist();setCheck(0);},[check]);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todolist=_useState4[0],setTodolist=_useState4[1];function saveTodolist(){var subPayload;var payload=[];payload.push.apply(payload,_toConsumableArray(todolist));subPayload={_id:Math.round(Math.random()*200+1),todolist:contentdataRef.current.value,isdone:false,date:date};payload.push(subPayload);setTodolist(payload);var data={rule:{name:'add'},data:subPayload,pass:'5@#1ˆ2*{&!c'};sendTodolist(data);}function sendTodolist(_x){return _sendTodolist.apply(this,arguments);}function _sendTodolist(){_sendTodolist=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options={url:'http://192.168.254.2:9000/admin-set-todolist/',method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json;charset=UTF-8'},data:data};_context.next=3;return axios(options).then(function(response){alert(response.data.getData?\"Islem Basarili\":\"Islem Gerceklesmedi..\");});case 3:setCheck(1);case 4:case\"end\":return _context.stop();}}},_callee);}));return _sendTodolist.apply(this,arguments);}function changeCommentRules(_x2){return _changeCommentRules.apply(this,arguments);}function _changeCommentRules(){_changeCommentRules=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var options;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:options={url:'http://192.168.254.2:9000/admin-set-todolist/',method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json;charset=UTF-8'},data:data};_context2.next=3;return axios(options).then(function(response){alert(response.data.getData?\"Islem Basarili\":\"Islem Gerceklesmedi..\");});case 3:setCheck(1);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _changeCommentRules.apply(this,arguments);}function deleteFunc(param){var data={rule:{name:\"delete\"},parentNodeId:param,pass:'5@#1ˆ2*{&!c'};changeCommentRules(data);}function doneFunc(param){var data={rule:{name:\"isdone\",rule:true},parentNodeId:param,pass:'5@#1ˆ2*{&!c'};changeCommentRules(data);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"contentlist\"},/*#__PURE__*/React.createElement(\"h3\",{style:{borderBottom:\".3em solid #444\",marginBottom:\"1em\",paddingBottom:\".3em\"}},\"TodoList List\"),/*#__PURE__*/React.createElement(\"ul\",null,todolist.length>0?todolist.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item._id,className:\"comment-box-container\"},/*#__PURE__*/React.createElement(\"span\",{style:{borderBottom:\".3em solid #444\",paddingBottom:\".3em\"}},/*#__PURE__*/React.createElement(\"b\",null,\"Todo : \"),item.todolist),/*#__PURE__*/React.createElement(\"div\",{className:\"todolistButton\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){deleteFunc(item._id);}},\"Delete\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){doneFunc(item._id);}},\"Done\")));}):'')),/*#__PURE__*/React.createElement(\"div\",{className:\"contentdata\"},/*#__PURE__*/React.createElement(\"h3\",{style:{borderBottom:\".3em solid #444\",marginBottom:\"1em\",paddingBottom:\".3em\"}},\"TodoList Add\"),/*#__PURE__*/React.createElement(\"textarea\",{style:{height:\"100px\"},ref:contentdataRef,id:\"contentdata\",name:\"contentdata\",placeholder:\"Write something..\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",onClick:saveTodolist,type:\"button\"},\"Save\")));}export default Todolist;","map":{"version":3,"sources":["/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/src/components/todolist/todolist.js"],"names":["React","useState","useRef","useEffect","axios","Todolist","date","Date","contentdataRef","check","setCheck","getTodolist","get","then","response","setTodolist","data","getData","todolist","saveTodolist","subPayload","payload","push","_id","Math","round","random","current","value","isdone","rule","name","pass","sendTodolist","options","url","method","headers","alert","changeCommentRules","deleteFunc","param","parentNodeId","doneFunc","borderBottom","marginBottom","paddingBottom","length","map","item","height"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport axios from 'axios'\n\n\nfunction Todolist() {\n    let date = new Date();\n    const contentdataRef = useRef()\n    const [check, setCheck] = useState(0)\n\n    function getTodolist() {\n        axios.get('http://192.168.254.2:9000/admin-get-todolist/')\n            .then(function (response) {\n                setTodolist(response.data.getData.getData)\n            })\n    }\n\n    useEffect(() => {\n        getTodolist()\n\n        setCheck(0)\n    }, [check])\n\n    const [todolist, setTodolist] = useState([])\n    function saveTodolist() {\n        let subPayload;\n        let payload = [];\n        payload.push(...todolist);\n        subPayload = { _id: (Math.round((Math.random() * 200) + 1)), todolist: contentdataRef.current.value, isdone: false, date: date }\n        payload.push(subPayload)\n        setTodolist(payload);\n        let data = {\n            rule: {\n                name: 'add'\n            },\n            data: subPayload,\n            pass: '5@#1ˆ2*{&!c'\n        }\n        sendTodolist(data)\n    }\n\n    async function sendTodolist(data) {\n        const options = {\n            url: 'http://192.168.254.2:9000/admin-set-todolist/',\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json;charset=UTF-8'\n            },\n            data: data\n        };\n        await axios(options).then((response) => {\n            alert((response.data.getData) ? \"Islem Basarili\" : \"Islem Gerceklesmedi..\")\n        });\n        setCheck(1)\n    }\n\n\n\n\n    async function changeCommentRules(data) {\n        const options = {\n            url: 'http://192.168.254.2:9000/admin-set-todolist/',\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json;charset=UTF-8'\n            },\n            data: data\n        };\n        await axios(options).then((response) => {\n            alert((response.data.getData) ? \"Islem Basarili\" : \"Islem Gerceklesmedi..\")\n        });\n        setCheck(1)\n    }\n\n    function deleteFunc(param) {\n        let data = {\n            rule: {\n                name: \"delete\",\n            },\n            parentNodeId: param,\n            pass: '5@#1ˆ2*{&!c'\n        }\n        changeCommentRules(data)\n    }\n\n    function doneFunc(param) {\n        let data = {\n            rule: {\n                name: \"isdone\",\n                rule: true\n            },\n            parentNodeId: param,\n            pass: '5@#1ˆ2*{&!c'\n        }\n        changeCommentRules(data)\n    }\n\n    return (\n        <>\n            <div className=\"contentlist\">\n                <h3 style={{ borderBottom: \".3em solid #444\", marginBottom: \"1em\", paddingBottom: \".3em\" }}>TodoList List</h3>\n                <ul>\n                    {\n                        (todolist.length > 0) ?\n                            todolist.map(item => {\n                                return <li key={item._id} className=\"comment-box-container\">\n                                    <span style={{ borderBottom: \".3em solid #444\", paddingBottom: \".3em\" }}><b>Todo : </b>{item.todolist}</span>\n                                    <div className=\"todolistButton\">\n                                        <button onClick={() => { deleteFunc(item._id) }}>Delete</button>\n                                        <button onClick={() => { doneFunc(item._id) }}>Done</button>\n                                    </div>\n                                </li>\n\n                            })\n                            :\n                            ''\n                    }\n                </ul>\n\n\n            </div>\n            <div className=\"contentdata\">\n                <h3 style={{ borderBottom: \".3em solid #444\", marginBottom: \"1em\", paddingBottom: \".3em\" }}>TodoList Add</h3>\n                <textarea style={{ height: \"100px\" }} ref={contentdataRef} id=\"contentdata\" name=\"contentdata\" placeholder=\"Write something..\"></textarea>\n                <button className='button' onClick={saveTodolist} type=\"button\">Save</button>\n            </div>\n        </>\n    )\n}\nexport default Todolist;"]},"metadata":{},"sourceType":"module"}