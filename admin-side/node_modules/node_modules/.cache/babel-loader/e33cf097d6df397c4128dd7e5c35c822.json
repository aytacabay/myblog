{"ast":null,"code":"var _jsxFileName = \"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/src/components/home/todolist.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction Todolist() {\n  let date = new Date();\n  const contentdataRef = useRef();\n  const [check, setCheck] = useState(0);\n\n  function getTodolist() {\n    axios.get('http://192.168.254.99:8558/admin-get-todolist/').then(function (response) {\n      setTodolist(response.data.getData.getData);\n    });\n  }\n\n  useEffect(() => {\n    getTodolist();\n    setCheck(0);\n  }, [check]);\n  const [todolist, setTodolist] = useState([]);\n\n  function saveTodolist() {\n    let subPayload;\n    let payload = [];\n    payload.push(...todolist);\n    subPayload = {\n      _id: Math.round(Math.random() * 200 + 1),\n      todolist: contentdataRef.current.value,\n      isdone: false,\n      date: date\n    };\n    payload.push(subPayload);\n    setTodolist(payload);\n    let data = {\n      rule: {\n        name: 'add'\n      },\n      data: subPayload\n    };\n    sendTodolist(data);\n  }\n\n  async function sendTodolist(data) {\n    const options = {\n      url: 'http://192.168.254.251:8558/admin-set-todolist/',\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json;charset=UTF-8'\n      },\n      data: data\n    };\n    await axios(options).then(response => {\n      alert(response.data.getData ? \"Islem Basarili\" : \"Islem Gerceklesmedi..\");\n    });\n    setCheck(1);\n  }\n\n  async function changeCommentRules(data) {\n    const options = {\n      url: 'http://192.168.254.251:8558/admin-set-todolist/',\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json;charset=UTF-8'\n      },\n      data: data\n    };\n    await axios(options).then(response => {\n      alert(response.data.getData ? \"Islem Basarili\" : \"Islem Gerceklesmedi..\");\n    });\n    setCheck(1);\n  }\n\n  function deleteFunc(param) {\n    let data = {\n      rule: {\n        name: \"delete\"\n      },\n      parentNodeId: param\n    };\n    changeCommentRules(data);\n  }\n\n  function doneFunc(param) {\n    let data = {\n      rule: {\n        name: \"isdone\",\n        rule: true\n      },\n      parentNodeId: param\n    };\n    changeCommentRules(data);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contentlist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      borderBottom: \".3em solid #444\",\n      marginBottom: \"1em\",\n      paddingBottom: \".3em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"TodoList List\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, todolist.length > 0 ? todolist.map(item => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: item._id,\n      className: \"comment-box-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        borderBottom: \".3em solid #444\",\n        paddingBottom: \".3em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 110\n      }\n    }, \"Todo : \"), item.todolist), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"todolistButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        deleteFunc(item._id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 41\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        doneFunc(item._id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 41\n      }\n    }, \"Done\")));\n  }) : '')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contentdata\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      borderBottom: \".3em solid #444\",\n      marginBottom: \"1em\",\n      paddingBottom: \".3em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \"TodoList Add\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    style: {\n      height: \"100px\"\n    },\n    ref: contentdataRef,\n    id: \"contentdata\",\n    name: \"contentdata\",\n    placeholder: \"Write something..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: saveTodolist,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"Save\")));\n}\n\nexport default Todolist;","map":{"version":3,"sources":["/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/src/components/home/todolist.js"],"names":["React","useState","useRef","useEffect","axios","Todolist","date","Date","contentdataRef","check","setCheck","getTodolist","get","then","response","setTodolist","data","getData","todolist","saveTodolist","subPayload","payload","push","_id","Math","round","random","current","value","isdone","rule","name","sendTodolist","options","url","method","headers","alert","changeCommentRules","deleteFunc","param","parentNodeId","doneFunc","borderBottom","marginBottom","paddingBottom","length","map","item","height"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport axios from 'axios'\n\n\nfunction Todolist() {\n    let date = new Date();\n    const contentdataRef = useRef()\n    const [check, setCheck] = useState(0)\n\n    function getTodolist() {\n        axios.get('http://192.168.254.99:8558/admin-get-todolist/')\n            .then(function (response) {\n                setTodolist(response.data.getData.getData)\n            })\n    }\n\n    useEffect(() => {\n        getTodolist()\n\n        setCheck(0)\n    }, [check])\n\n    const [todolist, setTodolist] = useState([])\n    function saveTodolist() {\n        let subPayload;\n        let payload = [];\n        payload.push(...todolist);\n        subPayload = { _id: (Math.round((Math.random() * 200) + 1)), todolist: contentdataRef.current.value, isdone: false, date: date }\n        payload.push(subPayload)\n        setTodolist(payload);\n        let data = {\n            rule: {\n                name: 'add'\n            },\n            data: subPayload\n        }\n        sendTodolist(data)\n    }\n\n    async function sendTodolist(data) {\n        const options = {\n            url: 'http://192.168.254.251:8558/admin-set-todolist/',\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json;charset=UTF-8'\n            },\n            data: data\n        };\n        await axios(options).then((response) => {\n            alert((response.data.getData) ? \"Islem Basarili\" : \"Islem Gerceklesmedi..\")\n        });\n        setCheck(1)\n    }\n\n\n\n\n    async function changeCommentRules(data) {\n        const options = {\n            url: 'http://192.168.254.251:8558/admin-set-todolist/',\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json;charset=UTF-8'\n            },\n            data: data\n        };\n        await axios(options).then((response) => {\n            alert((response.data.getData) ? \"Islem Basarili\" : \"Islem Gerceklesmedi..\")\n        });\n        setCheck(1)\n    }\n\n    function deleteFunc(param) {\n        let data = {\n            rule: {\n                name: \"delete\",\n            },\n            parentNodeId: param\n        }\n        changeCommentRules(data)\n    }\n\n    function doneFunc(param) {\n        let data = {\n            rule: {\n                name: \"isdone\",\n                rule: true\n            },\n            parentNodeId: param\n        }\n        changeCommentRules(data)\n    }\n\n    return (\n        <>\n            <div className=\"contentlist\">\n                <h3 style={{ borderBottom: \".3em solid #444\", marginBottom: \"1em\", paddingBottom: \".3em\" }}>TodoList List</h3>\n                <ul>\n                    {\n                        (todolist.length > 0) ?\n                            todolist.map(item => {\n                                return <li key={item._id} className=\"comment-box-container\">\n                                    <span style={{ borderBottom: \".3em solid #444\", paddingBottom: \".3em\" }}><b>Todo : </b>{item.todolist}</span>\n                                    <div className=\"todolistButton\">\n                                        <button onClick={() => { deleteFunc(item._id) }}>Delete</button>\n                                        <button onClick={() => { doneFunc(item._id) }}>Done</button>\n                                    </div>\n                                </li>\n\n                            })\n                            :\n                            ''\n                    }\n                </ul>\n\n\n            </div>\n            <div className=\"contentdata\">\n                <h3 style={{ borderBottom: \".3em solid #444\", marginBottom: \"1em\", paddingBottom: \".3em\" }}>TodoList Add</h3>\n                <textarea style={{ height: \"100px\" }} ref={contentdataRef} id=\"contentdata\" name=\"contentdata\" placeholder=\"Write something..\"></textarea>\n                <button className='button' onClick={saveTodolist} type=\"button\">Save</button>\n            </div>\n        </>\n    )\n}\nexport default Todolist;"]},"metadata":{},"sourceType":"module"}