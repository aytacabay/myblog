{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import Commentbox from'./commentbox';import AlertCommentbox from'./alertcommentbox';function Comment(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),check=_useState2[0],setCheck=_useState2[1];function changeCommentRules(_x){return _changeCommentRules.apply(this,arguments);}function _changeCommentRules(){_changeCommentRules=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options={url:'http://192.168.254.2:8558/admin-comment-set-rule-change',method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json;charset=UTF-8'},data:data};_context.next=3;return axios(options).then(function(response){alert('Comment Basarili bir sekilde degistirildi');});case 3:setCheck(1);case 4:case\"end\":return _context.stop();}}},_callee);}));return _changeCommentRules.apply(this,arguments);}var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),lastData=_useState4[0],setLastData=_useState4[1];function getLastComment(){return _getLastComment.apply(this,arguments);}function _getLastComment(){_getLastComment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('http://192.168.254.2:8558/admin-comment-get-all').then(function(response){setLastData(response.data.getData);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _getLastComment.apply(this,arguments);}function ignoreFunc(parentId,childId){var data={parentNodeId:String(parentId),childNodeId:String(childId),rule:{name:'ignore',rule:true},pass:'5@#1ˆ2*{&!c'};changeCommentRules(data);}function readedFunc(parentId,childId){var data={parentNodeId:String(parentId),childNodeId:String(childId),rule:{name:'readed',rule:true},pass:'5@#1ˆ2*{&!c'};changeCommentRules(data);}useEffect(function(){getLastComment();setCheck(0);},[check]);return/*#__PURE__*/React.createElement(React.Fragment,null,lastData.length>0?lastData.map(function(item){return/*#__PURE__*/React.createElement(Commentbox,{key:item.comment._id,parentNodeId:item._id,childNodeId:item.comment._id,data:item,ignoreFunc:ignoreFunc,readedFunc:readedFunc});}):/*#__PURE__*/React.createElement(AlertCommentbox,null));}export default Comment;","map":{"version":3,"sources":["/Users/aytacabay/Desktop/MyTrials/myblog/admin-side/src/components/comment/comment.js"],"names":["React","useEffect","useState","axios","Commentbox","AlertCommentbox","Comment","check","setCheck","changeCommentRules","data","options","url","method","headers","then","response","alert","lastData","setLastData","getLastComment","get","getData","ignoreFunc","parentId","childId","parentNodeId","String","childNodeId","rule","name","pass","readedFunc","length","map","item","comment","_id"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CAIA,QAASC,CAAAA,OAAT,EAAmB,eAEWJ,QAAQ,CAAC,CAAD,CAFnB,wCAERK,KAFQ,eAEDC,QAFC,uBAIAC,CAAAA,kBAJA,kKAIf,iBAAkCC,IAAlC,8HACUC,OADV,CACoB,CACZC,GAAG,CAAE,yDADO,CAEZC,MAAM,CAAE,MAFI,CAGZC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,gCAFX,CAHG,CAOZJ,IAAI,CAAEA,IAPM,CADpB,uBAUUP,CAAAA,KAAK,CAACQ,OAAD,CAAL,CAAeI,IAAf,CAAoB,SAACC,QAAD,CAAc,CAAEC,KAAK,CAAC,2CAAD,CAAL,CAAoD,CAAxF,CAVV,QAWIT,QAAQ,CAAC,CAAD,CAAR,CAXJ,sDAJe,oEAkBiBN,QAAQ,CAAC,EAAD,CAlBzB,yCAkBRgB,QAlBQ,eAkBEC,WAlBF,uBAmBAC,CAAAA,cAnBA,oJAmBf,+JACUjB,CAAAA,KAAK,CAACkB,GAAN,CAAU,iDAAV,EACDN,IADC,CACI,SAAUC,QAAV,CAAoB,CACtBG,WAAW,CAACH,QAAQ,CAACN,IAAT,CAAcY,OAAf,CAAX,CACH,CAHC,CADV,yDAnBe,iDA0Bf,QAASC,CAAAA,UAAT,CAAoBC,QAApB,CAA8BC,OAA9B,CAAuC,CACnC,GAAIf,CAAAA,IAAI,CAAG,CACPgB,YAAY,CAAEC,MAAM,CAACH,QAAD,CADb,CAEPI,WAAW,CAAED,MAAM,CAACF,OAAD,CAFZ,CAGPI,IAAI,CAAE,CACFC,IAAI,CAAE,QADJ,CAEFD,IAAI,CAAE,IAFJ,CAHC,CAOPE,IAAI,CAAE,aAPC,CAAX,CASAtB,kBAAkB,CAACC,IAAD,CAAlB,CACH,CACD,QAASsB,CAAAA,UAAT,CAAoBR,QAApB,CAA8BC,OAA9B,CAAuC,CACnC,GAAIf,CAAAA,IAAI,CAAG,CACPgB,YAAY,CAAEC,MAAM,CAACH,QAAD,CADb,CAEPI,WAAW,CAAED,MAAM,CAACF,OAAD,CAFZ,CAGPI,IAAI,CAAE,CACFC,IAAI,CAAE,QADJ,CAEFD,IAAI,CAAE,IAFJ,CAHC,CAOPE,IAAI,CAAE,aAPC,CAAX,CASAtB,kBAAkB,CAACC,IAAD,CAAlB,CACH,CAEDT,SAAS,CAAC,UAAM,CACZmB,cAAc,GACdZ,QAAQ,CAAC,CAAD,CAAR,CACH,CAHQ,CAGN,CAACD,KAAD,CAHM,CAAT,CAKA,mBACI,wCAESW,QAAQ,CAACe,MAAT,CAAkB,CAAnB,CAAwBf,QAAQ,CAACgB,GAAT,CAAa,SAAAC,IAAI,CAAI,CACzC,mBAAO,oBAAC,UAAD,EAAY,GAAG,CAAEA,IAAI,CAACC,OAAL,CAAaC,GAA9B,CAAmC,YAAY,CAAEF,IAAI,CAACE,GAAtD,CAA2D,WAAW,CAAEF,IAAI,CAACC,OAAL,CAAaC,GAArF,CAA0F,IAAI,CAAEF,IAAhG,CAAsG,UAAU,CAAEZ,UAAlH,CAA8H,UAAU,CAAES,UAA1I,EAAP,CACH,CAFuB,CAAxB,cAII,oBAAC,eAAD,MANZ,CADJ,CAaH,CACD,cAAe1B,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nimport Commentbox from './commentbox'\nimport AlertCommentbox from './alertcommentbox'\n\n\n\nfunction Comment() {\n\n    const [check, setCheck] = useState(0)\n\n    async function changeCommentRules(data) {\n        const options = {\n            url: 'http://192.168.254.2:8558/admin-comment-set-rule-change',\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json;charset=UTF-8'\n            },\n            data: data\n        };\n        await axios(options).then((response) => { alert('Comment Basarili bir sekilde degistirildi') });\n        setCheck(1)\n    }\n\n    const [lastData, setLastData] = useState([]);\n    async function getLastComment() {\n        await axios.get('http://192.168.254.2:8558/admin-comment-get-all')\n            .then(function (response) {\n                setLastData(response.data.getData)\n            })\n    }\n\n    function ignoreFunc(parentId, childId) {\n        let data = {\n            parentNodeId: String(parentId),\n            childNodeId: String(childId),\n            rule: {\n                name: 'ignore',\n                rule: true\n            },\n            pass: '5@#1ˆ2*{&!c'\n        }\n        changeCommentRules(data)\n    }\n    function readedFunc(parentId, childId) {\n        let data = {\n            parentNodeId: String(parentId),\n            childNodeId: String(childId),\n            rule: {\n                name: 'readed',\n                rule: true\n            },\n            pass: '5@#1ˆ2*{&!c'\n        }\n        changeCommentRules(data)\n    }\n\n    useEffect(() => {\n        getLastComment()\n        setCheck(0)\n    }, [check])\n\n    return (\n        <>\n            {\n                (lastData.length > 0) ? lastData.map(item => {\n                    return <Commentbox key={item.comment._id} parentNodeId={item._id} childNodeId={item.comment._id} data={item} ignoreFunc={ignoreFunc} readedFunc={readedFunc} />\n                })\n                    :\n                    <AlertCommentbox />\n\n            }\n\n        </>\n    );\n}\nexport default Comment;"]},"metadata":{},"sourceType":"module"}